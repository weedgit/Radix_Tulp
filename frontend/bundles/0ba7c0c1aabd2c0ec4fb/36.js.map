{"version":3,"sources":["webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/utils/createMessageContent.ts","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/utils/message.ts","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/utils/isContentModified.ts","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/utils/editing.ts"],"names":["async","createMessageContent","message","isHTML","_ref","relation","replyToEvent","permalinkCreator","includeReplyLegacyFallback","editedEvent","isEditing","Boolean","isReply","replyEventId","isReplyAndEditing","body","richToPlain","bodyPrefix","mxEvent","getContent","lines","split","map","l","trim","length","startsWith","getTextReplyFallback","formattedBodyPrefix","html","formatted_body","mxReply","DOMParser","parseFromString","querySelector","outerHTML","getHtmlReplyFallback","content","msgtype","MsgType","Text","isMarkdownEnabled","SettingsStore","getValue","formattedBody","plainToRich","format","_objectSpread","attachRelation","rel_type","event_id","getId","addReplyToMessageContent","includeLegacyFallback","sendMessage","roomContext","mxClient","params","_objectWithoutProperties","_excluded","room","roomId","posthogEvent","eventName","inThread","THREAD_RELATION_TYPE","name","PosthogAnalytics","instance","trackEvent","decorateStartSendingTime","threadId","prom","doMaybeLocalRoomAction","actualRoomId","dis","dispatch","action","event","context","timelineRenderingType","CHAT_EFFECTS","forEach","effect","containsEmoji","emojis","command","then","resp","sendRoundTripMetric","editMessage","_ref2","editorStateTransfer","getEvent","getThread","editContent","newContent","cancelPreviousPendingEdit","createRedactEventDialog","onCloseDialog","endEditing","response","getRoomId","oldContent","isContentModified","threadRootId","Action","EditEvent","FocusSendMessageComposer","previousEdit","replacingEvent","status","EventStatus","QUEUED","NOT_SENT","cancelPendingEvent"],"mappings":"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","file":"bundles/0ba7c0c1aabd2c0ec4fb/36.js","sourceRoot":""}